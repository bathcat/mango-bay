# Lab 05: Penetration Testing

## Summary

Before we introduce specific vulnerabilities, it's time to put on your red team hat and probe the application for weaknesses. The `main` branch should be reasonably secure, but if you find something, that's impressive. More importantly, this exercise helps you understand the application's attack surface, authentication mechanisms, and defensive patterns before we start exploiting and fixing known vulnerabilities.

## Requirements

1. Test attacks from other vulnerability labs against the secure `main` branch

   - Try SQL injection payloads from the SQL injection lab
   - Attempt XSS injections (DOM-based and persistent)
   - Test for IDOR vulnerabilities by manipulating IDs
   - Attempt path traversal in file uploads

2. Explore the application's attack surface

   - Examine authentication mechanisms (login, token storage, session management)
   - Test input validation across all forms
   - Investigate API endpoints using browser DevTools
   - Look for information disclosure in error messages and responses

3. Use appropriate tools for testing

   - Chrome/Edge DevTools Network tab to inspect requests/responses
   - Command-line tools: `curl`, PowerShell's `Invoke-WebRequest`
   - API clients: Postman, Insomnia, or the Scalar API documentation UI
   - Source code review and git history

4. Document any findings
   - Note interesting behaviors even if they're not exploitable
   - Record which defenses are working correctly
   - Identify areas that seem well-protected vs potentially weak

## Acceptance Criteria

- You've attempted at least 3-4 different attack vectors from the vulnerability labs
- You've inspected API request/response patterns in the Network tab
- You have a better mental model of the application's security posture

Finding an actual exploit would be impressive but isn't expected. The real goal is deeper familiarity with the application.

## Tips

- **You have huge advantages**: Unlike real-world attackers, you have full access to source code, git history, detailed error logs, and even a debugger. Use them.
- **Start with the browser**: The Network tab shows you exactly what the frontend is sending to the API. This reveals endpoint patterns, authentication headers, and data structures.
- **Test the endpoints directly**: If there's a vulnerability, it's likely in the API endpoints not properly validating input. Bypass the UI and call APIs directly.
- **Look for inconsistencies**: Does the UI prevent something that the API allows? Are some endpoints protected while similar ones aren't?
- **Check common weak points**: File uploads, search functionality, user-generated content, and ID-based lookups are historically problematic.

## Learning Resources

1. [OWASP Testing Guide](https://owasp.org/www-project-web-security-testing-guide/) - Comprehensive web security testing methodology
2. [PortSwigger Web Security Academy](https://portswigger.net/web-security) - Free tutorials on common vulnerabilities
3. [Chrome DevTools Network Documentation](https://developer.chrome.com/docs/devtools/network/) - Mastering the Network tab
4. [Using Invoke-WebRequest](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest) - PowerShell HTTP testing
